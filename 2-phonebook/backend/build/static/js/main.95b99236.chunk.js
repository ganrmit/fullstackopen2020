(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t.n(r),u=t(14),o=t.n(u),a=(t(19),t(3)),i=t(0),s=function(e){var n=e.search,t=e.handleSearchChange;return Object(i.jsxs)("div",{children:["filter shown with ",Object(i.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.addName,t=e.newName,r=e.handleNameChange,c=e.newNumber,u=e.handleNumberChange;return Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:t,onChange:r})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{value:c,onChange:u})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){e.id;var n=e.name,t=e.number,r=e.deletePerson;return Object(i.jsxs)("li",{children:[n," ",t,Object(i.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(n," ?"))&&r()},children:"delete"})]})},b=function(e){var n=e.persons,t=e.search,r=e.deletePerson;return Object(i.jsx)("ul",{children:n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLowerCase())})).map((function(e){var n=e.name,t=e.number,c=e.id;return Object(i.jsx)(l,{name:n,number:t,deletePerson:function(){return r(c)}},n)}))})},h=t(4),j=t.n(h),f="/api/persons",m=function(){return j.a.get(f).then((function(e){return e.data}))},O=function(e){return j.a.post(f,e).then((function(e){return e.data}))},g=function(e,n){return j.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return j.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},x=function(e){var n=e.message;if(null===n)return null;return Object(i.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},children:n})},v=function(e){var n=e.message;if(null===n)return null;return Object(i.jsx)("div",{style:{color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},children:n})},S=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(""),o=Object(a.a)(u,2),l=o[0],h=o[1],j=Object(r.useState)(""),f=Object(a.a)(j,2),S=f[0],w=f[1],C=Object(r.useState)(""),N=Object(a.a)(C,2),k=N[0],y=N[1],P=Object(r.useState)(null),T=Object(a.a)(P,2),L=T[0],B=T[1],F=Object(r.useState)(null),D=Object(a.a)(F,2),z=D[0],A=D[1];Object(r.useEffect)((function(){m().then((function(e){return c(e)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(x,{message:L}),Object(i.jsx)(v,{message:z}),Object(i.jsx)(s,{search:k,handleSearchChange:function(e){y(e.target.value)}}),Object(i.jsx)("h3",{children:"Add a new"}),Object(i.jsx)(d,{addName:function(e){e.preventDefault();var n={name:l,number:S},r=t.find((function(e){return e.name===l}));r?window.confirm("".concat(l," is already added to phonebook, replace the old number with a new one?"))&&g(r.id,n).then((function(e){c(t.map((function(n){return n.id===r.id?e:n}))),h(""),w(""),B("".concat(l,"'s number updated")),setTimeout((function(){return B(null)}),5e3)})).catch((function(e){A(e.response.data.error.toString()),setTimeout((function(){return A(null)}),5e3),m().then((function(e){return c(e)}))})):O(n).then((function(e){c(t.concat(e)),h(""),w(""),B("Added ".concat(l)),setTimeout((function(){return B(null)}),5e3)})).catch((function(e){A(e.response.data.error.toString()),setTimeout((function(){return A(null)}),5e3)}))},newName:l,handleNameChange:function(e){h(e.target.value)},newNumber:S,handleNumberChange:function(e){w(e.target.value)}}),Object(i.jsx)("h3",{children:"Numbers"}),Object(i.jsx)(b,{persons:t,search:k,deletePerson:function(e){p(e).then((function(n){c(t.filter((function(n){return n.id!==e})))})).catch((function(e){A(e.response.data.error.toString()),setTimeout((function(){return A(null)}),5e3),m().then((function(e){return c(e)}))}))}})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,u=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),u(e),o(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root")),w()}},[[39,1,2]]]);
//# sourceMappingURL=main.95b99236.chunk.js.map